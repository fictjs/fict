// Vitest Snapshot v1, https://vitest.dev/guide/snapshot.html

exports[`optimizer output baselines > hook + derived accessors 1`] = `
"import { __fictUseSignal, __fictUseMemo, __fictUseContext, template, insert, createElement } from "@fictjs/runtime/internal";
export function useCounter() {
  const __fictCtx = __fictUseContext();
  const count = __fictUseSignal(__fictCtx, 0);
  const __region_0 = __fictUseMemo(__fictCtx, () => {
    const double = __fictUseMemo(__fictCtx, () => count() * 2, 1000);
    return {
      double
    };
  }, 1001);
  const {
    double
  } = __region_0();
  return {
    count,
    double
  };
}
export function View() {
  const __fictCtx = __fictUseContext();
  const __region_0 = __fictUseMemo(__fictCtx, () => {
    const _useCounter = useCounter();
    const count = _useCounter.count;
    const double = _useCounter.double;
    return {
      _useCounter,
      count,
      double
    };
  }, 1002);
  const {
    _useCounter,
    count,
    double
  } = __region_0();
  return __fictUseMemo(__fictCtx, () => {
    const __tmpl_1 = template("<div><!----> / <!----></div>");
    const __root_0 = __tmpl_1();
    const __el_2 = __root_0.firstChild;
    const __el_3 = __root_0.firstChild.nextSibling.nextSibling;
    insert(__el_2.parentNode, () => count(), __el_2, createElement);
    insert(__el_3.parentNode, () => double(), __el_3, createElement);
    return __root_0;
  }, 1003)();
}"
`;

exports[`optimizer output baselines > keyed list rendering 1`] = `
"import { __fictUseSignal, __fictUseMemo, template, createKeyedList, bindText, onDestroy, toNodeArray, __fictUseContext } from "@fictjs/runtime/internal";
function List() {
  const __fictCtx = __fictUseContext();
  const items = __fictUseSignal(__fictCtx, [{
    id: 1,
    text: "a"
  }, {
    id: 2,
    text: "b"
  }]);
  return __fictUseMemo(__fictCtx, () => {
    const __tmpl_1 = template("<ul><!----></ul>");
    const __root_0 = __tmpl_1();
    const __el_2 = __root_0.firstChild;
    const __htmpl_3 = template("<li> </li>");
    const __list_6 = createKeyedList(() => items(), (item, __index) => item.id, (item, __index, __key) => (() => {
      const __root_4 = __htmpl_3();
      const __el_5 = __root_4.firstChild;
      __key;
      bindText(__el_5, () => item().text);
      return __root_4;
    })(), false);
    const __markers_7 = toNodeArray(__list_6.marker);
    for (const __m_8 of __markers_7) {
      __el_2.parentNode.insertBefore(__m_8, __el_2);
    }
    __list_6?.flush?.();
    onDestroy(__list_6.dispose);
    return __root_0;
  }, 1000)();
}
export default List;"
`;

exports[`optimizer output baselines > props destructuring + defaults 1`] = `
"import { __fictUseMemo, template, insert, createElement, __fictUseContext, prop } from "@fictjs/runtime/internal";
function Card(__props) {
  const title = prop(() => __props.title);
  const count = prop(() => __props.count ?? 0);
  const __fictCtx = __fictUseContext();
  return __fictUseMemo(__fictCtx, () => {
    const __tmpl_1 = template("<h1><!----><!----></h1>");
    const __root_0 = __tmpl_1();
    const __el_2 = __root_0.firstChild;
    const __el_3 = __root_0.firstChild.nextSibling;
    insert(__el_2.parentNode, () => title(), __el_2, createElement);
    insert(__el_3.parentNode, () => count(), __el_3, createElement);
    return __root_0;
  }, 1000)();
}
export default Card;"
`;

exports[`optimizer output baselines > region grouping across control flow 1`] = `
"import { __fictUseSignal, __fictUseMemo, template, insert, createElement, __fictUseContext } from "@fictjs/runtime/internal";
function Summary() {
  const __fictCtx = __fictUseContext();
  const count = __fictUseSignal(__fictCtx, 0);
  const __region_0 = __fictUseMemo(__fictCtx, () => {
    let heading = undefined;
    let extra = 0;
    if (count() > 0) {
      heading = (count() > 1 ? "Items" : "Item") + ": " + count();
      extra = count() * 10;
    }
    return {
      heading: heading != undefined ? heading : undefined,
      extra: extra != undefined ? extra : undefined
    };
  }, 1000);
  const heading = () => __region_0().heading;
  const extra = () => __region_0().extra;
  return __fictUseMemo(__fictCtx, () => {
    const __tmpl_1 = template("<div><!----><!----></div>");
    const __root_0 = __tmpl_1();
    const __el_2 = __root_0.firstChild;
    const __el_3 = __root_0.firstChild.nextSibling;
    insert(__el_2.parentNode, () => heading(), __el_2, createElement);
    insert(__el_3.parentNode, () => extra(), __el_3, createElement);
    return __root_0;
  }, 1001)();
}
export default Summary;"
`;
